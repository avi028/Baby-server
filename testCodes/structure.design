

                                ----|-------------  thread  
                                ----|   
                                ----|-------------  thread  
[client] -- >>   ------ [buffer]----|
                                ----|-------------  thread  
                                ----|
                                ----|-------------  thread


                                